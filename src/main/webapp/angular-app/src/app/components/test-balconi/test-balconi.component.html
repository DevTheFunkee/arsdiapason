<div [hidden]="idBambino" class="row">
  <div class="col-6">
    <div class="alert alert-info">
      <strong>Per fare il test è necessario cliccare sul pulsante 'Vai Al Test' sulla riga di un bambino dalla pagina
        <a [routerLink]="[ '/childList']" routerLinkActive="active">Lista Bambini</a>
      </strong>
    </div>
  </div>
</div>

<div *ngIf="bambino" class="row">
  <div class="col-5">
    <table class="table table-sm table-striped">
      <thead>
      <tr>
        <th>Nome</th>
        <th>Cognome</th>
        <th>Data Nascita</th>
        <th>Età</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>{{bambino.nome}}</td>
        <td>{{bambino.cognome}}</td>
        <td>{{bambino.dataNascita | date: 'dd MMM yyyy' }}</td>
        <td>{{getChildAge(bambino.dataNascita)}}</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="row">
  <div class="col-2">
    <table>
      <tr *ngFor="let scheda of schede">
        <td>
          <button class="btn btn-primary w-100" (click)="showDatiScheda(scheda)">Scheda {{scheda.numero}}</button>
        </td>
        <td>
          <button class="btn btn-primary ml-2" tooltip="Scarica immagine">
            <i class="fa fa-download"></i>
          </button>
        </td>
        <td [hidden]="!idBambino">
          <button class="btn btn-primary ml-2" tooltip="Carica test competato">
            <i class="fa fa-upload"></i>
          </button>
        </td>
      </tr>
    </table>
  </div>

  <div class="col-3 text-center" *ngIf="currentScheda.titolo">
    <div class="row">
      <div class="col-12">
        <h4>{{currentScheda.titolo}}</h4>
        <h6>{{currentScheda.obbiettivo}}</h6>
      </div>
    </div>
    <div class="row" [hidden]="!currentScheda.immagini">
      <div *ngFor="let img of currentScheda.immagini.split(';')" class="{{currentScheda.immagini.split(';').length > 1 ? 'col-6': 'col-12'}}">
        <img src="/assets/img/scheda{{currentScheda.numero}}{{img}}.png" class="mb-1">
      </div>
    </div>
  </div>

  <div class="col-6 offset-1">
    <div class="col-12" *ngFor="let scheda of schede" [hidden]="scheda.numero !== currentScheda.numero">
      <table *ngFor="let tipo of tipiTabellaPunti[scheda.numero]" class="table table-bordered table-striped tabella-punti text-center mb-2">
        <tbody>
        <tr [hidden]="tipo === 'null'">
          <th [attr.colspan]="arrayAnni.length + 1" class="text-center">{{tipo.toUpperCase()}}</th>
        </tr>
        <tr>
          <th>ANNI</th>
          <th *ngFor="let anni of arrayAnni" style="white-space: nowrap; width: 20%">{{anni}}</th>
        </tr>
        <tr>
          <th style="vertical-align: middle">ESITO</th>
          <td style="vertical-align: middle" *ngFor="let anni of arrayAnni">
            <div [hidden]="!idBambino || !getDatiPerAnno(scheda.numero, anni, 'testo', tipo)">
              <input class="" type="checkbox" value="" id="flexCheckDefault">
            </div>
            <div>{{getDatiPerAnno(scheda.numero, anni, 'testo', tipo)}}</div>
          </td>
        </tr>
        <tr>
          <th>PROVA N.</th>
          <td *ngFor="let anni of arrayAnni">{{getDatiPerAnno(scheda.numero, anni, 'prova', tipo)}}</td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>
