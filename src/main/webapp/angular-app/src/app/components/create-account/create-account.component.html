<div [hidden]="showSuccessMsg">

  <form name="form" (ngSubmit)="f.form.valid && checkPassword() && register()" #f="ngForm" novalidate>

    <div class="row mt-3">
      <div class="col-4">
        <label>Nome</label>
        <input type="text" class="form-control form-control-sm" name="nome" [(ngModel)]="model.nome" required />
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-4">
        <label>Cognome</label>
        <input type="text" class="form-control form-control-sm" name="cognome" [(ngModel)]="model.cognome" required />
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-4">
        <label>Email</label>
        <input type="text" class="form-control form-control-sm" name="email" [(ngModel)]="model.email"
          [pattern]="patternEmail" required />
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-4">
        <label>Password</label>
        <input
          tooltip="Minimo 8 caratteri, massimo 20, nessuno spazio, almeno una maiuscola, una minuscola, un numero e un carattere speciale tra questi @$!=%*?^&+#"
          type="password" class="form-control form-control-sm" name="password" [(ngModel)]="model.password"
          [pattern]="patternPassword" required />
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-4">
        <label>Conferma Password</label>
        <input type="password" class="form-control form-control-sm" name="password2" [(ngModel)]="model.password2"
          [pattern]="patternPassword" tooltip="Deve essere uguale alla password" required />
      </div>
    </div>

    <div class="row mt-3">
      <div class="col-4">
        <button class="btn btn-primary pull-right" type="submit" [disabled]="f.form.invalid">Crea Account</button>
      </div>
    </div>

  </form>

  <div class="row mt-3">
    <div class="col-4">
      <button class="btn btn-primary pull-right" (click)="goToLogin()">Torna alla Login</button>
    </div>
  </div>

</div>

<div class="row mt-3" [hidden]="!errMsg">
  <div class="col-4">
    <div class="alert alert-danger">
      <strong>{{errMsg}}</strong>
    </div>
  </div>
</div>

<div class="row mt-3" [hidden]="!showSuccessMsg">
  <div class="col-4">
    <div class="alert alert-success">
      <strong>Registrazione avvenuta con successo.<br>
        Controllare la mail per completare la registrazione.</strong>
    </div>
  </div>
</div>